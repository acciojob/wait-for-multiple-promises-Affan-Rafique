<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Promise Table</title>
</head>
<body>
  <table id="output">
    <tr id="loading"><td>Loading...</td></tr>
  </table>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const output = document.getElementById("output");

      // Generate random numbers between 1â€“3
      const getRandomValue = () => Math.floor(Math.random() * 3) + 1;

      // Create promises that resolve after different times
      const p1 = new Promise(res => setTimeout(() => res(["Promise 1", getRandomValue()]), 1000));
      const p2 = new Promise(res => setTimeout(() => res(["Promise 2", getRandomValue()]), 1500));
      const p3 = new Promise(res => setTimeout(() => res(["Promise 3", getRandomValue()]), 2000));

      // Wait for all promises to complete
      Promise.all([p1, p2, p3]).then(results => {
        // Remove "Loading..."
        output.innerHTML = "";

        let total = 0;
        results.forEach(([name, value]) => {
          total += value;
          const row = document.createElement("tr");
          row.innerHTML = `<td>${name}</td><td>${value}</td>`;
          output.appendChild(row);
        });

        // Add total row
        const totalRow = document.createElement("tr");
        totalRow.innerHTML = `<td>Total</td><td>${total}</td>`;
        output.appendChild(totalRow);
      });
    });
  </script>
</body>
</html>
